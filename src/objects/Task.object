<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Close</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>DeleteSeries</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Follow</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>NewTask</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <enableFeeds>true</enableFeeds>
    <fields>
        <fullName>ActivityDate</fullName>
        <trackFeedHistory>true</trackFeedHistory>
    </fields>
    <fields>
        <fullName>CallDisposition</fullName>
    </fields>
    <fields>
        <fullName>CallDurationInSeconds</fullName>
    </fields>
    <fields>
        <fullName>CallObject</fullName>
    </fields>
    <fields>
        <fullName>CallType</fullName>
    </fields>
    <fields>
        <fullName>Description</fullName>
        <trackFeedHistory>false</trackFeedHistory>
    </fields>
    <fields>
        <fullName>Email</fullName>
    </fields>
    <fields>
        <fullName>OwnerId</fullName>
        <trackFeedHistory>true</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>Phone</fullName>
    </fields>
    <fields>
        <fullName>Priority</fullName>
        <picklist>
            <picklistValues>
                <fullName>High</fullName>
                <default>false</default>
                <highPriority>true</highPriority>
            </picklistValues>
            <picklistValues>
                <fullName>Normal</fullName>
                <default>true</default>
                <highPriority>false</highPriority>
            </picklistValues>
            <picklistValues>
                <fullName>Low</fullName>
                <default>false</default>
                <highPriority>false</highPriority>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>RecurrenceInterval</fullName>
    </fields>
    <fields>
        <fullName>RecurrenceRegeneratedType</fullName>
    </fields>
    <fields>
        <fullName>Status</fullName>
        <picklist>
            <picklistValues>
                <fullName>Not Started</fullName>
                <default>true</default>
                <closed>false</closed>
            </picklistValues>
            <picklistValues>
                <fullName>In Progress</fullName>
                <default>false</default>
                <closed>false</closed>
            </picklistValues>
            <picklistValues>
                <fullName>Completed</fullName>
                <default>false</default>
                <closed>true</closed>
            </picklistValues>
            <picklistValues>
                <fullName>Waiting on someone else</fullName>
                <default>false</default>
                <closed>false</closed>
            </picklistValues>
            <picklistValues>
                <fullName>Deferred</fullName>
                <default>false</default>
                <closed>false</closed>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <trackFeedHistory>true</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>Subject</fullName>
        <picklist>
            <picklistValues>
                <fullName>Call</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Send Letter</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Send Quote</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Other</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>TaskSubtype</fullName>
    </fields>
    <fields>
        <fullName>Type</fullName>
        <picklist>
            <picklistValues>
                <fullName>Call</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Meeting</fullName>
                <default>false</default>
            </picklistValues>
            <picklistValues>
                <fullName>Other</fullName>
                <default>false</default>
            </picklistValues>
            <sorted>false</sorted>
        </picklist>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Picklist</type>
    </fields>
    <fields>
        <fullName>WhatId</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>WhoId</fullName>
        <trackFeedHistory>false</trackFeedHistory>
        <type>Lookup</type>
    </fields>
    <sharingModel>ControlledByParent</sharingModel>
    <validationRules>
        <fullName>Only_Assigned_User_or_System_Admin_edit</fullName>
        <active>true</active>
        <description>Used to prevent people from changing tasks that they are not the assigned user on.</description>
        <errorConditionFormula>AND(
ByPassValidations__c = FALSE,
$Setup.WS_Custom_Admin_Settings__c.Turn_Off_Task_Validations__c = FALSE,
OR(
ISCHANGED(WhoId),
ISCHANGED(WhatId),
ISCHANGED(Subject),
ISCHANGED(Type),
ISCHANGED(OwnerId),
ISCHANGED(IsClosed),
ISCHANGED(Description),
ISCHANGED(CallDisposition),
ISCHANGED(ActivityDate),
ISCHANGED(Priority),
ISCHANGED(Status)
),
IF(
AND(
ISCHANGED(WhoId),
LEFT(PRIORVALUE(WhoId),3)=&quot;00Q&quot;,
LEFT(WhoId,3)=&quot;003&quot;
),
FALSE,
TRUE
),
NOT(ISNEW()),
Priorvalue(OwnerId )&lt;&gt; $User.Id,
OwnerId  &lt;&gt;  $User.Id ,
AND(
NOT(CONTAINS($Profile.Name, &quot;System&quot;)),
NOT(CONTAINS($Profile.Name, &quot;Sales Manager&quot;))
)
)</errorConditionFormula>
        <errorMessage>You can NOT edit this task. You are not the assigned user. Please contact system admin or the assigned user to make any changes to this task.</errorMessage>
    </validationRules>
</CustomObject>
